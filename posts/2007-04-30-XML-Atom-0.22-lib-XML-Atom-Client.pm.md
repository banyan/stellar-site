---
layout: post
title: XML-Atom-0.22/lib/XML/Atom/Client.pm
date: 2007-04-30 23:41:44 +0900
---
source:XML-Atom-0.22/lib/XML/Atom/Client.pm


# NAME

XML::Atom::Client - A client for the Atom API


# SYNOPSIS


	
	    use XML::Atom::Client;
	    use XML::Atom::Entry;
	    my $api = XML::Atom::Client->new;
	    $api->username('Melody');
	    $api->password('Nelson');
	
	    my $entry = XML::Atom::Entry->new;
	    $entry->title('New Post');
	    $entry->content('Content of my post.');
	    my $EditURI = $api->createEntry($PostURI, $entry);
	
	    my $feed = $api->getFeed($FeedURI);
	    my @entries = $feed->entries;
	
	    my $entry = $api->getEntry($EditURI);
	

# DESCRIPTION

_XML::Atom::Client'' implements a client for the Atom API described at ''http://bitworking.org/projects/atom/draft-gregorio-09.html'', with the authentication scheme described at ''http://www.intertwingly.net/wiki/pie/DifferentlyAbledClients_.
*NOTE:* the API, and particularly the authentication scheme, are still in flux.


# USAGE


## XML::Atom::Client->new(%param)


## $api->use_soap([ 0 | 1 ])

_XML::Atom::Client'' supports both the REST and SOAP-wrapper versions of the Atom API. By default, the REST version of the API will be used, but you can turn on the SOAP wrapper--for example, if you need to connect to a server that supports only the SOAP wrapper--by calling ''use_soap_ with a value of `1`:


	
	    $api->use_soap(1);
	
If called without arguments, returns the current value of the flag.


## $api->username([ $username ])

If called with an argument, sets the username for login to _$username_.

Returns the current username that will be used when logging in to the Atom server.


## $api->password([ $password ])

If called with an argument, sets the password for login to _$password_.

Returns the current password that will be used when logging in to the Atom server.


## $api->createEntry($PostURI, $entry)

Creates a new entry.

_$entry'' must be an ''XML::Atom::Entry_ object.


## $api->getEntry($EditURI)

Retrieves the entry with the given URL _$EditURI_.

Returns an _XML::Atom::Entry_ object.


## $api->updateEntry($EditURI, $entry)

Updates the entry at URL _$EditURI'' with the entry ''$entry'', which must be an ''XML::Atom::Entry_ object.

Returns true on success, false otherwise.


## $api->deleteEntry($EditURI)

Deletes the entry at URL _$EditURI_.


## $api->getFeed($FeedURI)

Retrieves the feed at _$FeedURI_.

Returns an _XML::Atom::Feed_ object representing the feed returned from the server.


## ERROR HANDLING

Methods return `undef` on error, and the error message can be retrieved using the _errstr_ method.


# AUTHOR & COPYRIGHT

Please see the _XML::Atom_ manpage for author, copyright, and license information.

